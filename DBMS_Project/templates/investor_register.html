{% extends "base.html" %}

{% block title %}Investor Registration{% endblock %}

{% block content %}
<h1>üí∞ Investor Registration</h1>

<div class="card" style="max-width: 600px; margin: 30px auto;">
    <form method="POST" action="/investor/register">
        <div class="form-group">
            <label for="name">Investor Name / Firm *</label>
            <input type="text" id="name" name="name" required 
                   placeholder="e.g., Accel Partners">
        </div>
        
        <div class="form-group">
            <label for="email">Email *</label>
            <input type="email" id="email" name="email" required 
                   placeholder="invest@yourfirm.com">
        </div>
        
        <div class="form-group">
            <label for="password">Password *</label>
            <input type="password" id="password" name="password" required 
                   placeholder="Minimum 6 characters">
        </div>
        
        <div class="form-group">
            <label for="investment_min">Minimum Investment Amount (‚Çπ) *</label>
            <input type="number" id="investment_min" name="investment_min" 
                   required min="100000" step="100000"
                   placeholder="e.g., 2000000 (20 Lakhs)">
        </div>
        
        <div class="form-group">
            <label for="investment_max">Maximum Investment Amount (‚Çπ) *</label>
            <input type="number" id="investment_max" name="investment_max" 
                   required min="100000" step="100000"
                   placeholder="e.g., 10000000 (1 Crore)">
            <small style="color: #666;">Must be greater than or equal to minimum</small>
        </div>
        
        <div class="form-group">
            <label for="preferred_domains">Preferred Domains *</label>
            <select id="preferred_domains" name="preferred_domains" required multiple size="8">
                {% for domain in domains %}
                    <option value="{{ domain.domain_id }}">{{ domain.domain_name }}</option>
                {% endfor %}
            </select>
            <small style="color: #666;">Hold Ctrl/Cmd to select multiple domains</small>
        </div>
        
        <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone" 
                   placeholder="+91-9876543210">
        </div>
        
        <div class="form-group">
            <label for="location">Location *</label>
            <input type="text" id="location" name="location" required 
                   placeholder="e.g., Bangalore">
        </div>
        
        <div style="margin-top: 30px;">
            <button type="submit" class="btn">Register Investor</button>
            <a href="/investor/login" class="btn btn-secondary" style="margin-left: 10px;">Already registered? Login</a>
        </div>
    </form>
</div>

<script>
    // Convert multiple select to comma-separated string
    document.querySelector('form').addEventListener('submit', function(e) {
        const select = document.getElementById('preferred_domains');
        const selected = Array.from(select.selectedOptions).map(opt => opt.value);
        
        // Create hidden input with comma-separated values
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'preferred_domains';
        input.value = selected.join(',');
        
        // Replace select with hidden input
        select.name = '';
        this.appendChild(input);
    });
</script>

<div style="text-align: center; margin: 20px 0;">
    <a href="/">‚Üê Back to Home</a>
</div>
{% endblock %}

